apply plugin: 'java'
apply plugin: 'application'

repositories{
    mavenCentral()
}

dependencies{
    implementation 'org.apache.commons:commons-csv:1.8'
}

mainClassName = 'CSVDemo'

version = '1.0'
jar {
    manifest {
	    attributes  'Main-Class': mainClassName,
	                'Implementation-Title': "CSVDemo",
	                'Implementation-Version': version
    }
}


buildscript{
    repositories{
        flatDir dirs: '../proguard6.2.2/lib'
    }
    dependencies{
        classpath ':proguard:'
    }
}

task(minify, dependsOn: 'jar', type: proguard.gradle.ProGuardTask){
    configuration 'proguard.cfg'

    injars "build/libs/lab03-1.0.jar"
    outjars "build/libs/lab03-1.0.min-jar"
}

